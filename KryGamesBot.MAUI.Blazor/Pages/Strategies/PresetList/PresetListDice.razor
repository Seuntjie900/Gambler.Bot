<DxFormLayout>
    <DxFormLayoutGroup>
        
        <DxFormLayoutItem Caption="Chance">
            <DxSpinEdit Value="labStrategy.Chance" ValueChanged="@((decimal val) => Calculate(nameof(labStrategy.Chance),val))" />
        </DxFormLayoutItem>
        <DxFormLayoutItem Caption="Payout">
            <DxSpinEdit Value="labpayout" ValueChanged="@((decimal val) => Calculate(nameof(labpayout), val))" />
        </DxFormLayoutItem>
        
        <DxCheckBox @bind-Checked="labStrategy.High" Text="Start High"></DxCheckBox>
    </DxFormLayoutGroup>
</DxFormLayout>
@code {

    [Parameter]
    public DoormatBot.Strategies.PresetList labStrategy { get; set; }    
    decimal labpayout = 0;
    decimal labEdge = 1;

    void Calculate(string s, decimal value)
    {
        switch (s)
        {

            case nameof(labStrategy.Chance):
                labStrategy.Chance = value;
                if (labStrategy.Chance != 0)
                {
                    if (labpayout != (100m - labEdge) / labStrategy.Chance)
                    {
                        labpayout = (100m - labEdge) / labStrategy.Chance;
                    }
                }
                break;
            case nameof(labpayout):
                labpayout = value;
                if (labpayout != 0)
                {
                    if (labStrategy.Chance != (100m - labEdge) / labpayout)
                    {
                        labStrategy.Chance = (100m - labEdge) / labpayout;
                    }                    
                }
                break;
        }
        InvokeAsync(StateHasChanged);
    }

}